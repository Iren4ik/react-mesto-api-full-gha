{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{useFormWithValidation}from\"../hooks/useFormWithValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isPreloading=_ref.isPreloading;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,handleChange=_useFormWithValidatio.handleChange,resetForm=_useFormWithValidatio.resetForm;function handleSubmit(e){e.preventDefault();onUpdateAvatar(values);}React.useEffect(function(){resetForm();},[isOpen,resetForm]);return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",btnText:isPreloading?'Сохранение...':'Сохранить',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isDisabled:!isValid,children:/*#__PURE__*/_jsxs(\"label\",{className:\"popup__input-element\",children:[/*#__PURE__*/_jsx(\"input\",{className:errors.name?\"popup__input popup__input_valid_error\":\"popup__input\",type:\"url\",name:\"avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,onChange:handleChange,value:values.avatar||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible\",children:errors.avatar})]})});}export default EditAvatarPopup;","map":{"version":3,"names":["React","PopupWithForm","useFormWithValidation","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isPreloading","_useFormWithValidatio","values","errors","isValid","handleChange","resetForm","handleSubmit","e","preventDefault","useEffect","name","title","btnText","onSubmit","isDisabled","children","className","type","placeholder","required","onChange","value","avatar"],"sources":["/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/src/components/EditAvatarPopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { useFormWithValidation } from \"../hooks/useFormWithValidation\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isPreloading }) {\n\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(values);\n  }\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      btnText={isPreloading ? 'Сохранение...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <label className=\"popup__input-element\">\n        <input\n          className={\n            errors.name ? \"popup__input popup__input_valid_error\" : \"popup__input\"\n          }\n          type=\"url\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          onChange={handleChange}\n          value={values.avatar || \"\"}\n        />\n        <span className=\"popup__error popup__error_visible\">{errors.avatar}</span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,qBAAqB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAoD,IAAjD,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAEtE,IAAAC,qBAAA,CAA6DX,qBAAqB,CAAC,CAAC,CAA5EY,MAAM,CAAAD,qBAAA,CAANC,MAAM,CAAEC,MAAM,CAAAF,qBAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,qBAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,qBAAA,CAAZI,YAAY,CAAEC,SAAS,CAAAL,qBAAA,CAATK,SAAS,CAExD,QAAS,CAAAC,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBV,cAAc,CAACG,MAAM,CAAC,CACxB,CAEAd,KAAK,CAACsB,SAAS,CAAC,UAAM,CACpBJ,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACT,MAAM,CAAES,SAAS,CAAC,CAAC,CAEvB,mBACEd,IAAA,CAACH,aAAa,EACZsB,IAAI,CAAC,aAAa,CAClBC,KAAK,CAAC,uFAAiB,CACvBC,OAAO,CAAEb,YAAY,CAAG,eAAe,CAAG,WAAY,CACtDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBgB,QAAQ,CAAEP,YAAa,CACvBQ,UAAU,CAAE,CAACX,OAAQ,CAAAY,QAAA,cAErBtB,KAAA,UAAOuB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACrCxB,IAAA,UACEyB,SAAS,CACPd,MAAM,CAACQ,IAAI,CAAG,uCAAuC,CAAG,cACzD,CACDO,IAAI,CAAC,KAAK,CACVP,IAAI,CAAC,QAAQ,CACbQ,WAAW,CAAC,oGAAoB,CAChCC,QAAQ,MACRC,QAAQ,CAAEhB,YAAa,CACvBiB,KAAK,CAAEpB,MAAM,CAACqB,MAAM,EAAI,EAAG,CAC5B,CAAC,cACF/B,IAAA,SAAMyB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAEb,MAAM,CAACoB,MAAM,CAAO,CAAC,EACrE,CAAC,CACK,CAAC,CAEpB,CAEA,cAAe,CAAA5B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}