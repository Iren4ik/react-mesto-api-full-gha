{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{useFormWithValidation}from\"../hooks/useFormWithValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isPreloading=_ref.isPreloading;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,handleChange=_useFormWithValidatio.handleChange,resetForm=_useFormWithValidatio.resetForm;// Подписка на контекст\nvar currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){if(currentUser){resetForm(currentUser);}},[currentUser,resetForm,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser(values);};return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-form\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",btnText:isPreloading?\"Сохранение...\":\"Сохранить\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isDisabled:!isValid,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__input-element\",children:[/*#__PURE__*/_jsx(\"input\",{className:errors.name?\"popup__input popup__input_valid_error\":\"popup__input\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true,value:values.name||'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__input-element\",children:[/*#__PURE__*/_jsx(\"input\",{className:errors.about?\"popup__input popup__input_valid_error\":\"popup__input\",type:\"text\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",required:true,value:values.about||'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible\",children:errors.about})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","useFormWithValidation","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isPreloading","_useFormWithValidatio","values","errors","isValid","handleChange","resetForm","currentUser","useContext","useEffect","handleSubmit","e","preventDefault","name","title","btnText","onSubmit","isDisabled","children","className","type","placeholder","minLength","maxLength","required","value","onChange","about"],"sources":["/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useFormWithValidation } from \"../hooks/useFormWithValidation\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isPreloading }) {\n\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser);\n    }\n  }, [currentUser, resetForm, isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser(values);\n  };\n\n  return (\n    <PopupWithForm\n      name=\"edit-form\"\n      title=\"Редактировать профиль\"\n      btnText={isPreloading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <label className=\"popup__input-element\">\n        <input\n          className={\n            errors.name ? \"popup__input popup__input_valid_error\" : \"popup__input\"\n          }\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={values.name || ''}\n          onChange={handleChange}\n        />\n        <span className=\"popup__error popup__error_visible\">{errors.name}</span>\n      </label>\n\n      <label className=\"popup__input-element\">\n        <input\n          className={\n            errors.about ? \"popup__input popup__input_valid_error\" : \"popup__input\"\n          }\n          type=\"text\"\n          name=\"about\"\n          placeholder=\"О себе\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={values.about || ''}\n          onChange={handleChange}\n        />\n        <span className=\"popup__error popup__error_visible\">{errors.about}</span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,OAASC,qBAAqB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,QAAS,CAAAC,gBAAgBA,CAAAC,IAAA,CAAkD,IAA/C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAErE,IAAAC,qBAAA,CAA6DX,qBAAqB,CAAC,CAAC,CAA5EY,MAAM,CAAAD,qBAAA,CAANC,MAAM,CAAEC,MAAM,CAAAF,qBAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,qBAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,qBAAA,CAAZI,YAAY,CAAEC,SAAS,CAAAL,qBAAA,CAATK,SAAS,CAExD;AACA,GAAM,CAAAC,WAAW,CAAGpB,KAAK,CAACqB,UAAU,CAACnB,kBAAkB,CAAC,CAExDF,KAAK,CAACsB,SAAS,CAAC,UAAM,CACpB,GAAIF,WAAW,CAAE,CACfD,SAAS,CAACC,WAAW,CAAC,CACxB,CACF,CAAC,CAAE,CAACA,WAAW,CAAED,SAAS,CAAET,MAAM,CAAC,CAAC,CAEpC,QAAS,CAAAa,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBb,YAAY,CAACG,MAAM,CAAC,CACtB,CAAC,CAED,mBACER,KAAA,CAACN,aAAa,EACZyB,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAC,2HAAuB,CAC7BC,OAAO,CAAEf,YAAY,CAAG,eAAe,CAAG,WAAY,CACtDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBkB,QAAQ,CAAEN,YAAa,CACvBO,UAAU,CAAE,CAACb,OAAQ,CAAAc,QAAA,eAErBxB,KAAA,UAAOyB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACrC1B,IAAA,UACE2B,SAAS,CACPhB,MAAM,CAACU,IAAI,CAAG,uCAAuC,CAAG,cACzD,CACDO,IAAI,CAAC,MAAM,CACXP,IAAI,CAAC,MAAM,CACXQ,WAAW,CAAC,oBAAK,CACjBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,MACRC,KAAK,CAAEvB,MAAM,CAACW,IAAI,EAAI,EAAG,CACzBa,QAAQ,CAAErB,YAAa,CACxB,CAAC,cACFb,IAAA,SAAM2B,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAEf,MAAM,CAACU,IAAI,CAAO,CAAC,EACnE,CAAC,cAERnB,KAAA,UAAOyB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACrC1B,IAAA,UACE2B,SAAS,CACPhB,MAAM,CAACwB,KAAK,CAAG,uCAAuC,CAAG,cAC1D,CACDP,IAAI,CAAC,MAAM,CACXP,IAAI,CAAC,OAAO,CACZQ,WAAW,CAAC,iCAAQ,CACpBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CACfC,QAAQ,MACRC,KAAK,CAAEvB,MAAM,CAACyB,KAAK,EAAI,EAAG,CAC1BD,QAAQ,CAAErB,YAAa,CACxB,CAAC,cACFb,IAAA,SAAM2B,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAEf,MAAM,CAACwB,KAAK,CAAO,CAAC,EACpE,CAAC,EACK,CAAC,CAEpB,CAEA,cAAe,CAAAhC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}