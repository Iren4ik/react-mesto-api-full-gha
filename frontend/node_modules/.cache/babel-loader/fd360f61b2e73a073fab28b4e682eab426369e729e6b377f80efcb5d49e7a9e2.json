{"ast":null,"code":"import React from\"react\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onTrashClick=_ref.onTrashClick;// Подписываемся на контекст CurrentUserContext\n// React.useContext возвращает значение контекста, которое передано в пропс value провайдера\nvar currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\n// const isOwn = card.owner._id === currentUser._id;\nvar isOwn=card.owner===currentUser._id;// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n// const isLiked = card.likes.some((card) => card._id === currentUser._id);\nvar isLiked=card.likes.some(function(card){return card===currentUser._id;});// Создаём переменную, которую зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"elements__like \".concat(isLiked&&'elements__like_active');function handleClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleTrashClick(){onTrashClick(card);}// Далее в разметке используем переменную для условного рендеринга\nreturn/*#__PURE__*/_jsxs(\"li\",{className:\"elements__element\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:\"elements__trash opacity\",type:\"button\",onClick:handleTrashClick}),/*#__PURE__*/_jsx(\"img\",{className:\"elements__photo opacity\",src:card.link,alt:card.name,onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"elements__caption\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"elements__place\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"elements__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"elements__like-counter\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["React","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","card","onCardClick","onCardLike","onTrashClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","cardLikeButtonClassName","concat","handleClick","handleLikeClick","handleTrashClick","className","children","type","onClick","src","link","alt","name","length"],"sources":["/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/src/components/Card.js"],"sourcesContent":["import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onTrashClick }) {\r\n  // Подписываемся на контекст CurrentUserContext\r\n  // React.useContext возвращает значение контекста, которое передано в пропс value провайдера\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  // const isOwn = card.owner._id === currentUser._id;\r\n  const isOwn = card.owner === currentUser._id;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  // const isLiked = card.likes.some((card) => card._id === currentUser._id);\r\n  const isLiked = card.likes.some((card) => card === currentUser._id);\r\n\r\n  // Создаём переменную, которую зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `elements__like ${isLiked && 'elements__like_active'}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleTrashClick() {\r\n    onTrashClick(card)\r\n  }\r\n\r\n  // Далее в разметке используем переменную для условного рендеринга\r\n  return (\r\n    <li className=\"elements__element\">\r\n      {isOwn && <button className=\"elements__trash opacity\" type=\"button\" onClick={handleTrashClick} />}\r\n      <img className=\"elements__photo opacity\" src={card.link} alt={card.name} onClick={handleClick} />\r\n      <div className=\"elements__caption\">\r\n        <h2 className=\"elements__place\">{card.name}</h2>\r\n        <div className=\"elements__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n          <p className=\"elements__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAkD,IAA/C,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CACzD;AACA;AACA,GAAM,CAAAC,WAAW,CAAGZ,KAAK,CAACa,UAAU,CAACZ,kBAAkB,CAAC,CAExD;AACA;AACA,GAAM,CAAAa,KAAK,CAAGN,IAAI,CAACO,KAAK,GAAKH,WAAW,CAACI,GAAG,CAE5C;AACA;AACA,GAAM,CAAAC,OAAO,CAAGT,IAAI,CAACU,KAAK,CAACC,IAAI,CAAC,SAACX,IAAI,QAAK,CAAAA,IAAI,GAAKI,WAAW,CAACI,GAAG,GAAC,CAEnE;AACA,GAAM,CAAAI,uBAAuB,mBAAAC,MAAA,CACTJ,OAAO,EAAI,uBAAuB,CACrD,CAED,QAAS,CAAAK,WAAWA,CAAA,CAAG,CACrBb,WAAW,CAACD,IAAI,CAAC,CACnB,CAEA,QAAS,CAAAe,eAAeA,CAAA,CAAG,CACzBb,UAAU,CAACF,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAgB,gBAAgBA,CAAA,CAAG,CAC1Bb,YAAY,CAACH,IAAI,CAAC,CACpB,CAEA;AACA,mBACEH,KAAA,OAAIoB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC9BZ,KAAK,eAAIX,IAAA,WAAQsB,SAAS,CAAC,yBAAyB,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEJ,gBAAiB,CAAE,CAAC,cACjGrB,IAAA,QAAKsB,SAAS,CAAC,yBAAyB,CAACI,GAAG,CAAErB,IAAI,CAACsB,IAAK,CAACC,GAAG,CAAEvB,IAAI,CAACwB,IAAK,CAACJ,OAAO,CAAEN,WAAY,CAAE,CAAC,cACjGjB,KAAA,QAAKoB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCvB,IAAA,OAAIsB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAElB,IAAI,CAACwB,IAAI,CAAK,CAAC,cAChD3B,KAAA,QAAKoB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCvB,IAAA,WAAQsB,SAAS,CAAEL,uBAAwB,CAACO,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEL,eAAgB,CAAE,CAAC,cACtFpB,IAAA,MAAGsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAElB,IAAI,CAACU,KAAK,CAACe,MAAM,CAAI,CAAC,EAC1D,CAAC,EACH,CAAC,EACJ,CAAC,CAET,CAEA,cAAe,CAAA3B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}