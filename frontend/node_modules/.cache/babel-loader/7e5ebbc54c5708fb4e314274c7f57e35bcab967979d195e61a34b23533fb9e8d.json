{"ast":null,"code":"import _toConsumableArray from\"/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Route,Routes,useNavigate}from\"react-router-dom\";import Header from\"./Header\";import Main from\"./Main\";import Footer from\"./Footer\";import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import ImagePopup from\"./ImagePopup\";import DeleteCardPopup from\"./DeleteCardPopup\";import InfoTooltip from\"./InfoTooltip\";import Login from\"./Login\";import Register from\"./Register\";import{api}from\"../utils/api.js\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import ProtectedRouteElement from\"./ProtectedRoute\";import{register,authorize,getContent}from\"../utils/auth.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setEditProfilePopupOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isAddPlacePopupOpen=_React$useState4[0],setAddPlacePopupOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isEditAvatarPopupOpen=_React$useState6[0],setEditAvatarPopupOpen=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isDeleteCardPopupOpen=_React$useState8[0],setDeleteCardPopupOpen=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isInfoTooltipOpen=_React$useState10[0],setIsInfoTooltipOpen=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),isPreloading=_React$useState12[0],setPreloading=_React$useState12[1];var _React$useState13=React.useState({}),_React$useState14=_slicedToArray(_React$useState13,2),currentUser=_React$useState14[0],setCurrentUser=_React$useState14[1];var _React$useState15=React.useState([]),_React$useState16=_slicedToArray(_React$useState15,2),cards=_React$useState16[0],setCards=_React$useState16[1];var _React$useState17=React.useState(null),_React$useState18=_slicedToArray(_React$useState17,2),selectedCard=_React$useState18[0],setSelectedCard=_React$useState18[1];var _React$useState19=React.useState({}),_React$useState20=_slicedToArray(_React$useState19,2),cardToDelete=_React$useState20[0],setCardToDelete=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),loggedIn=_React$useState22[0],setLoggedIn=_React$useState22[1];var _React$useState23=React.useState(),_React$useState24=_slicedToArray(_React$useState23,2),email=_React$useState24[0],setEmail=_React$useState24[1];var _React$useState25=React.useState(false),_React$useState26=_slicedToArray(_React$useState25,2),isRegister=_React$useState26[0],setIsRegister=_React$useState26[1];var navigate=useNavigate();//Получение данных пользователя и карточек, если залогинился\nReact.useEffect(function(){// console.log(localStorage);\nif(loggedIn){Promise.all([api.getProfileInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),dataUser=_ref2[0],dataCards=_ref2[1];// console.log(dataCards);\nsetCurrentUser(dataUser);setCards(dataCards);}).catch(console.error);}},[loggedIn]);//Проверка токена при загрзке страницы\nReact.useEffect(function(){var token=localStorage.getItem('token');// если у пользователя есть токен в localStorage, \n// эта функция проверит, действующий он или нет\nif(token){getContent(token).then(function(res){if(res){setLoggedIn(true);setEmail(res.email);navigate('/',{replace:true});}}).catch(console.error);}},[navigate]);// Открытие попапа ававтара\nfunction handleEditAvatarClick(){setEditAvatarPopupOpen(true);}// Открытие попапа реадиктирования попапа\nfunction handleEditProfileClick(){setEditProfilePopupOpen(true);}// Открытие попапа добавления карточки\nfunction handleAddPlaceClick(){setAddPlacePopupOpen(true);}// Открытие попапа удаления карточки\nfunction handleDeleteCardClick(card){setDeleteCardPopupOpen(true);setCardToDelete(card);}// Открытие попапа успешной или не совсем регистрации\nfunction infoTooltipPopupOpen(){setIsInfoTooltipOpen(true);}// Открытие выбранной карточки\nfunction handleCardClick(card){setSelectedCard(card);}// Закрытие попапов\nfunction closeAllPopups(){setEditProfilePopupOpen(false);setAddPlacePopupOpen(false);setEditAvatarPopupOpen(false);setDeleteCardPopupOpen(false);setIsInfoTooltipOpen(false);setSelectedCard(null);setCardToDelete({});}//универсальная функция, принимающая функцию запроса\nfunction handleSubmit(request){// изменяем текст кнопки до вызова запроса\nsetPreloading(true);request().then(closeAllPopups).catch(console.error)// возвращаем обратно начальный текст кнопки\n.finally(function(){return setPreloading(false);});}// Поставить лайк\nfunction handleCardLike(card){function makeRequest(){// const isLiked = card.likes.some((item) => item._id === currentUser._id);\nvar isLiked=card.likes.some(function(item){return item===currentUser._id;});// return позволяет дальше продолжать цепочку then, catch, finally\nreturn api.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(console.error);}handleSubmit(makeRequest);}// Удалить карточку\nfunction handleCardDelete(card){function makeRequest(){return api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(c){return c._id!==card._id;});});}).catch(console.error);}handleSubmit(makeRequest);}//Обновить данные профиля\nfunction handleUpdateUser(inputValues){function makeRequest(){return api.setUserInfo(inputValues).then(function(dataUser){setCurrentUser(dataUser);}).catch(console.error);}handleSubmit(makeRequest);}// Обновить аватар\nfunction handleUpdateAvatar(inputValue){function makeRequest(){return api.setUserAvatar(inputValue).then(function(dataUser){setCurrentUser(dataUser);}).catch(console.error);}handleSubmit(makeRequest);}// Добавить карточку\nfunction handleAddPlaceSubmit(inputValue){function makeRequest(){return api.postNewCard(inputValue).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));}).catch(console.error);}handleSubmit(makeRequest);}//Обработка запроса на регистрацию\nfunction handleRegister(email,password){register(email,password).then(function(res){if(res){setIsRegister(true);infoTooltipPopupOpen();navigate('/sign-in',{replace:true});}else{infoTooltipPopupOpen();setIsRegister(false);}}).catch(function(){infoTooltipPopupOpen();setIsRegister(false);console.error();});}//Изменение статуса логина\nfunction handleLoggedIn(){setLoggedIn(true);}//Обработка запроса на авторизацию\nfunction handleLogin(email,password){authorize(email,password).then(function(data){if(data.token){setEmail(email);handleLoggedIn();navigate('/',{replace:true});}}).catch(function(){setLoggedIn(false);setIsRegister(false);infoTooltipPopupOpen();console.error();});}//Выход из системы\nfunction handleLogout(){setLoggedIn(false);localStorage.removeItem(\"token\");navigate(\"/sign-in\");}//«Внедряем» данные из currentUser с помощью провайдера\n//пропс value содержит значение, которое распространаяется дочерним элементам\nreturn/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{onLogout:handleLogout,email:email}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRouteElement,{loggedIn:loggedIn,element:Main,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,onCardLike:handleCardLike,onTrashClick:handleDeleteCardClick,cards:cards})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isInfoTooltipOpen,onClose:closeAllPopups,isConfirmed:isRegister}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,isPreloading:isPreloading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,isPreloading:isPreloading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,isPreloading:isPreloading}),/*#__PURE__*/_jsx(DeleteCardPopup,{isOpen:isDeleteCardPopupOpen,onClose:closeAllPopups,isPreloading:isPreloading,card:cardToDelete,onCardDelete:handleCardDelete})]})});}export default App;","map":{"version":3,"names":["React","Route","Routes","useNavigate","Header","Main","Footer","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ImagePopup","DeleteCardPopup","InfoTooltip","Login","Register","api","CurrentUserContext","ProtectedRouteElement","register","authorize","getContent","jsx","_jsx","jsxs","_jsxs","App","_React$useState","useState","_React$useState2","_slicedToArray","isEditProfilePopupOpen","setEditProfilePopupOpen","_React$useState3","_React$useState4","isAddPlacePopupOpen","setAddPlacePopupOpen","_React$useState5","_React$useState6","isEditAvatarPopupOpen","setEditAvatarPopupOpen","_React$useState7","_React$useState8","isDeleteCardPopupOpen","setDeleteCardPopupOpen","_React$useState9","_React$useState10","isInfoTooltipOpen","setIsInfoTooltipOpen","_React$useState11","_React$useState12","isPreloading","setPreloading","_React$useState13","_React$useState14","currentUser","setCurrentUser","_React$useState15","_React$useState16","cards","setCards","_React$useState17","_React$useState18","selectedCard","setSelectedCard","_React$useState19","_React$useState20","cardToDelete","setCardToDelete","_React$useState21","_React$useState22","loggedIn","setLoggedIn","_React$useState23","_React$useState24","email","setEmail","_React$useState25","_React$useState26","isRegister","setIsRegister","navigate","useEffect","Promise","all","getProfileInfo","getInitialCards","then","_ref","_ref2","dataUser","dataCards","catch","console","error","token","localStorage","getItem","res","replace","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleDeleteCardClick","card","infoTooltipPopupOpen","handleCardClick","closeAllPopups","handleSubmit","request","finally","handleCardLike","makeRequest","isLiked","likes","some","item","_id","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","deleteCard","filter","handleUpdateUser","inputValues","setUserInfo","handleUpdateAvatar","inputValue","setUserAvatar","handleAddPlaceSubmit","postNewCard","concat","_toConsumableArray","handleRegister","password","handleLoggedIn","handleLogin","data","handleLogout","removeItem","Provider","value","children","className","onLogout","path","element","onRegister","onLogin","onEditAvatar","onEditProfile","onAddPlace","onCardClick","onCardLike","onTrashClick","isOpen","onClose","isConfirmed","onUpdateUser","onUpdateAvatar","onCardDelete"],"sources":["/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/src/components/App.js"],"sourcesContent":["import React from \"react\";\r\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport DeleteCardPopup from \"./DeleteCardPopup\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport { api } from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport ProtectedRouteElement from \"./ProtectedRoute\";\r\nimport {register, authorize, getContent} from \"../utils/auth.js\"\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const [isPreloading, setPreloading] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cardToDelete, setCardToDelete] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState();\r\n  const [isRegister, setIsRegister] = React.useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  //Получение данных пользователя и карточек, если залогинился\r\n  React.useEffect(() => {\r\n    // console.log(localStorage);\r\n    if (loggedIn) {\r\n      Promise.all([api.getProfileInfo(), api.getInitialCards()])\r\n      .then(([dataUser, dataCards]) => {\r\n        // console.log(dataCards);\r\n        setCurrentUser(dataUser);\r\n        setCards(dataCards);\r\n      })\r\n      .catch(console.error);\r\n    }\r\n  }, [loggedIn]);\r\n\r\n\r\n  //Проверка токена при загрзке страницы\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    // если у пользователя есть токен в localStorage, \r\n    // эта функция проверит, действующий он или нет\r\n    if (token){\r\n      getContent(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setEmail(res.email);\r\n            navigate('/', {replace: true})\r\n          }\r\n        })\r\n        .catch(console.error);\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Открытие попапа ававтара\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  // Открытие попапа реадиктирования попапа\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // Открытие попапа добавления карточки\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // Открытие попапа удаления карточки\r\n  function handleDeleteCardClick(card) {\r\n    setDeleteCardPopupOpen(true);\r\n    setCardToDelete(card);\r\n  }\r\n\r\n  // Открытие попапа успешной или не совсем регистрации\r\n  function infoTooltipPopupOpen() {\r\n    setIsInfoTooltipOpen(true);\r\n  }\r\n\r\n  // Открытие выбранной карточки\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  // Закрытие попапов\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setDeleteCardPopupOpen(false);\r\n    setIsInfoTooltipOpen(false)\r\n    setSelectedCard(null);\r\n    setCardToDelete({});\r\n  }\r\n\r\n  //универсальная функция, принимающая функцию запроса\r\n  function handleSubmit(request) {\r\n    // изменяем текст кнопки до вызова запроса\r\n    setPreloading(true);\r\n    request()\r\n      .then(closeAllPopups)\r\n      .catch(console.error)\r\n      // возвращаем обратно начальный текст кнопки\r\n      .finally(() => setPreloading(false));\r\n  }\r\n\r\n  // Поставить лайк\r\n  function handleCardLike(card) {\r\n    function makeRequest() {\r\n      // const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n      const isLiked = card.likes.some((item) => item === currentUser._id);\r\n      // return позволяет дальше продолжать цепочку then, catch, finally\r\n      return api.changeLikeCardStatus(card._id, !isLiked)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n        })\r\n        .catch(console.error);\r\n    }\r\n    handleSubmit(makeRequest);\r\n  }\r\n\r\n  // Удалить карточку\r\n  function handleCardDelete(card) {\r\n    function makeRequest() {\r\n      return api.deleteCard(card._id)\r\n        .then(() => {\r\n          setCards((state) => state.filter((c) => c._id !== card._id));\r\n        })\r\n        .catch(console.error);\r\n    }\r\n    handleSubmit(makeRequest);\r\n  }\r\n\r\n  //Обновить данные профиля\r\n  function handleUpdateUser(inputValues) {\r\n    function makeRequest() {\r\n      return api.setUserInfo(inputValues)\r\n        .then((dataUser) => {\r\n          setCurrentUser(dataUser);\r\n        })\r\n        .catch(console.error);\r\n    }\r\n    handleSubmit(makeRequest);\r\n  }\r\n\r\n  // Обновить аватар\r\n  function handleUpdateAvatar(inputValue) {\r\n    function makeRequest() {\r\n      return api.setUserAvatar(inputValue)\r\n        .then((dataUser) => {\r\n          setCurrentUser(dataUser);\r\n        })\r\n        .catch(console.error);\r\n    }\r\n    handleSubmit(makeRequest);\r\n  }\r\n\r\n  // Добавить карточку\r\n  function handleAddPlaceSubmit(inputValue) {\r\n    function makeRequest() {\r\n      return api.postNewCard(inputValue)\r\n        .then((newCard) => {\r\n          setCards([newCard, ...cards]);\r\n        })\r\n        .catch(console.error);\r\n    }\r\n    handleSubmit(makeRequest);\r\n  }\r\n\r\n    //Обработка запроса на регистрацию\r\n    function handleRegister(email, password) {\r\n      register(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setIsRegister(true);\r\n          infoTooltipPopupOpen();\r\n          navigate('/sign-in', {replace: true});\r\n        } else {\r\n          infoTooltipPopupOpen();\r\n          setIsRegister(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        infoTooltipPopupOpen();\r\n        setIsRegister(false);\r\n        console.error();\r\n      })\r\n    }\r\n  \r\n    //Изменение статуса логина\r\n    function handleLoggedIn() {\r\n      setLoggedIn(true);\r\n    }\r\n  \r\n    //Обработка запроса на авторизацию\r\n    function handleLogin(email, password) {\r\n      authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail(email);\r\n          handleLoggedIn();\r\n          navigate('/', {replace: true})\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoggedIn(false);\r\n        setIsRegister(false);\r\n        infoTooltipPopupOpen();\r\n        console.error();\r\n      })\r\n    }\r\n  \r\n    //Выход из системы\r\n    function handleLogout() {\r\n      setLoggedIn(false);\r\n      localStorage.removeItem(\"token\");\r\n      navigate(\"/sign-in\");\r\n    }\r\n\r\n  //«Внедряем» данные из currentUser с помощью провайдера\r\n  //пропс value содержит значение, которое распространаяется дочерним элементам\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header onLogout={handleLogout} email={email}/>\r\n\r\n        <Routes>\r\n          <Route path=\"/sign-up\" element={<Register onRegister={handleRegister}/>} />\r\n          <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>} />\r\n          {/* <Route path='*' \r\n              element={loggedIn ? (<Navigate to='/' replace/>) : (<Navigate to='/sign-in'replace/>)} \r\n          /> */}\r\n          <Route\r\n            path=\"/\"\r\n            element={<ProtectedRouteElement \r\n              loggedIn={loggedIn} \r\n              element={Main}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onTrashClick={handleDeleteCardClick}\r\n                cards={cards}\r\n            />} \r\n          />\r\n        </Routes>\r\n\r\n        <Footer />\r\n\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          isConfirmed={isRegister}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isPreloading={isPreloading}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isPreloading={isPreloading}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isPreloading={isPreloading}\r\n        />\r\n        <DeleteCardPopup\r\n          isOpen={isDeleteCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          isPreloading={isPreloading}\r\n          card={cardToDelete}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"kSAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAASC,GAAG,KAAQ,iBAAiB,CACrC,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,MAAO,CAAAC,qBAAqB,KAAM,kBAAkB,CACpD,OAAQC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAO,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,eAAA,CAA0D1B,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAxEI,sBAAsB,CAAAF,gBAAA,IAAEG,uBAAuB,CAAAH,gBAAA,IACtD,IAAAI,gBAAA,CAAoDhC,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAAlEE,mBAAmB,CAAAD,gBAAA,IAAEE,oBAAoB,CAAAF,gBAAA,IAChD,IAAAG,gBAAA,CAAwDpC,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAU,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAAtEE,qBAAqB,CAAAD,gBAAA,IAAEE,sBAAsB,CAAAF,gBAAA,IACpD,IAAAG,gBAAA,CAAwDxC,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAc,gBAAA,CAAAZ,cAAA,CAAAW,gBAAA,IAAtEE,qBAAqB,CAAAD,gBAAA,IAAEE,sBAAsB,CAAAF,gBAAA,IACpD,IAAAG,gBAAA,CAAkD5C,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAkB,iBAAA,CAAAhB,cAAA,CAAAe,gBAAA,IAAhEE,iBAAiB,CAAAD,iBAAA,IAAEE,oBAAoB,CAAAF,iBAAA,IAC9C,IAAAG,iBAAA,CAAsChD,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAsB,iBAAA,CAAApB,cAAA,CAAAmB,iBAAA,IAApDE,YAAY,CAAAD,iBAAA,IAAEE,aAAa,CAAAF,iBAAA,IAClC,IAAAG,iBAAA,CAAsCpD,KAAK,CAAC2B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA0B,iBAAA,CAAAxB,cAAA,CAAAuB,iBAAA,IAAjDE,WAAW,CAAAD,iBAAA,IAAEE,cAAc,CAAAF,iBAAA,IAClC,IAAAG,iBAAA,CAA0BxD,KAAK,CAAC2B,QAAQ,CAAC,EAAE,CAAC,CAAA8B,iBAAA,CAAA5B,cAAA,CAAA2B,iBAAA,IAArCE,KAAK,CAAAD,iBAAA,IAAEE,QAAQ,CAAAF,iBAAA,IACtB,IAAAG,iBAAA,CAAwC5D,KAAK,CAAC2B,QAAQ,CAAC,IAAI,CAAC,CAAAkC,iBAAA,CAAAhC,cAAA,CAAA+B,iBAAA,IAArDE,YAAY,CAAAD,iBAAA,IAAEE,eAAe,CAAAF,iBAAA,IACpC,IAAAG,iBAAA,CAAwChE,KAAK,CAAC2B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAsC,iBAAA,CAAApC,cAAA,CAAAmC,iBAAA,IAAnDE,YAAY,CAAAD,iBAAA,IAAEE,eAAe,CAAAF,iBAAA,IACpC,IAAAG,iBAAA,CAAgCpE,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAA0C,iBAAA,CAAAxC,cAAA,CAAAuC,iBAAA,IAA9CE,QAAQ,CAAAD,iBAAA,IAAEE,WAAW,CAAAF,iBAAA,IAC5B,IAAAG,iBAAA,CAA0BxE,KAAK,CAAC2B,QAAQ,CAAC,CAAC,CAAA8C,iBAAA,CAAA5C,cAAA,CAAA2C,iBAAA,IAAnCE,KAAK,CAAAD,iBAAA,IAAEE,QAAQ,CAAAF,iBAAA,IACtB,IAAAG,iBAAA,CAAoC5E,KAAK,CAAC2B,QAAQ,CAAC,KAAK,CAAC,CAAAkD,iBAAA,CAAAhD,cAAA,CAAA+C,iBAAA,IAAlDE,UAAU,CAAAD,iBAAA,IAAEE,aAAa,CAAAF,iBAAA,IAEhC,GAAM,CAAAG,QAAQ,CAAG7E,WAAW,CAAC,CAAC,CAE9B;AACAH,KAAK,CAACiF,SAAS,CAAC,UAAM,CACpB;AACA,GAAIX,QAAQ,CAAE,CACZY,OAAO,CAACC,GAAG,CAAC,CAACpE,GAAG,CAACqE,cAAc,CAAC,CAAC,CAAErE,GAAG,CAACsE,eAAe,CAAC,CAAC,CAAC,CAAC,CACzDC,IAAI,CAAC,SAAAC,IAAA,CAA2B,KAAAC,KAAA,CAAA3D,cAAA,CAAA0D,IAAA,IAAzBE,QAAQ,CAAAD,KAAA,IAAEE,SAAS,CAAAF,KAAA,IACzB;AACAjC,cAAc,CAACkC,QAAQ,CAAC,CACxB9B,QAAQ,CAAC+B,SAAS,CAAC,CACrB,CAAC,CAAC,CACDC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACvB,CACF,CAAC,CAAE,CAACvB,QAAQ,CAAC,CAAC,CAGd;AACAtE,KAAK,CAACiF,SAAS,CAAC,UAAM,CACpB,GAAM,CAAAa,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C;AACA;AACA,GAAIF,KAAK,CAAC,CACR1E,UAAU,CAAC0E,KAAK,CAAC,CACdR,IAAI,CAAC,SAACW,GAAG,CAAK,CACb,GAAIA,GAAG,CAAE,CACP1B,WAAW,CAAC,IAAI,CAAC,CACjBI,QAAQ,CAACsB,GAAG,CAACvB,KAAK,CAAC,CACnBM,QAAQ,CAAC,GAAG,CAAE,CAACkB,OAAO,CAAE,IAAI,CAAC,CAAC,CAChC,CACF,CAAC,CAAC,CACDP,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACF,CAAC,CAAE,CAACb,QAAQ,CAAC,CAAC,CAEd;AACA,QAAS,CAAAmB,qBAAqBA,CAAA,CAAG,CAC/B5D,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAEA;AACA,QAAS,CAAA6D,sBAAsBA,CAAA,CAAG,CAChCrE,uBAAuB,CAAC,IAAI,CAAC,CAC/B,CAEA;AACA,QAAS,CAAAsE,mBAAmBA,CAAA,CAAG,CAC7BlE,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAEA;AACA,QAAS,CAAAmE,qBAAqBA,CAACC,IAAI,CAAE,CACnC5D,sBAAsB,CAAC,IAAI,CAAC,CAC5BwB,eAAe,CAACoC,IAAI,CAAC,CACvB,CAEA;AACA,QAAS,CAAAC,oBAAoBA,CAAA,CAAG,CAC9BzD,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAEA;AACA,QAAS,CAAA0D,eAAeA,CAACF,IAAI,CAAE,CAC7BxC,eAAe,CAACwC,IAAI,CAAC,CACvB,CAEA;AACA,QAAS,CAAAG,cAAcA,CAAA,CAAG,CACxB3E,uBAAuB,CAAC,KAAK,CAAC,CAC9BI,oBAAoB,CAAC,KAAK,CAAC,CAC3BI,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,oBAAoB,CAAC,KAAK,CAAC,CAC3BgB,eAAe,CAAC,IAAI,CAAC,CACrBI,eAAe,CAAC,CAAC,CAAC,CAAC,CACrB,CAEA;AACA,QAAS,CAAAwC,YAAYA,CAACC,OAAO,CAAE,CAC7B;AACAzD,aAAa,CAAC,IAAI,CAAC,CACnByD,OAAO,CAAC,CAAC,CACNtB,IAAI,CAACoB,cAAc,CAAC,CACpBf,KAAK,CAACC,OAAO,CAACC,KAAK,CACpB;AAAA,CACCgB,OAAO,CAAC,iBAAM,CAAA1D,aAAa,CAAC,KAAK,CAAC,GAAC,CACxC,CAEA;AACA,QAAS,CAAA2D,cAAcA,CAACP,IAAI,CAAE,CAC5B,QAAS,CAAAQ,WAAWA,CAAA,CAAG,CACrB;AACA,GAAM,CAAAC,OAAO,CAAGT,IAAI,CAACU,KAAK,CAACC,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,GAAK7D,WAAW,CAAC8D,GAAG,GAAC,CACnE;AACA,MAAO,CAAArG,GAAG,CAACsG,oBAAoB,CAACd,IAAI,CAACa,GAAG,CAAE,CAACJ,OAAO,CAAC,CAChD1B,IAAI,CAAC,SAACgC,OAAO,CAAK,CACjB3D,QAAQ,CAAC,SAAC4D,KAAK,QAAK,CAAAA,KAAK,CAACC,GAAG,CAAC,SAACC,CAAC,QAAM,CAAAA,CAAC,CAACL,GAAG,GAAKb,IAAI,CAACa,GAAG,CAAGE,OAAO,CAAGG,CAAC,EAAC,CAAC,GAAC,CAC3E,CAAC,CAAC,CACD9B,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACAc,YAAY,CAACI,WAAW,CAAC,CAC3B,CAEA;AACA,QAAS,CAAAW,gBAAgBA,CAACnB,IAAI,CAAE,CAC9B,QAAS,CAAAQ,WAAWA,CAAA,CAAG,CACrB,MAAO,CAAAhG,GAAG,CAAC4G,UAAU,CAACpB,IAAI,CAACa,GAAG,CAAC,CAC5B9B,IAAI,CAAC,UAAM,CACV3B,QAAQ,CAAC,SAAC4D,KAAK,QAAK,CAAAA,KAAK,CAACK,MAAM,CAAC,SAACH,CAAC,QAAK,CAAAA,CAAC,CAACL,GAAG,GAAKb,IAAI,CAACa,GAAG,GAAC,GAAC,CAC9D,CAAC,CAAC,CACDzB,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACAc,YAAY,CAACI,WAAW,CAAC,CAC3B,CAEA;AACA,QAAS,CAAAc,gBAAgBA,CAACC,WAAW,CAAE,CACrC,QAAS,CAAAf,WAAWA,CAAA,CAAG,CACrB,MAAO,CAAAhG,GAAG,CAACgH,WAAW,CAACD,WAAW,CAAC,CAChCxC,IAAI,CAAC,SAACG,QAAQ,CAAK,CAClBlC,cAAc,CAACkC,QAAQ,CAAC,CAC1B,CAAC,CAAC,CACDE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACAc,YAAY,CAACI,WAAW,CAAC,CAC3B,CAEA;AACA,QAAS,CAAAiB,kBAAkBA,CAACC,UAAU,CAAE,CACtC,QAAS,CAAAlB,WAAWA,CAAA,CAAG,CACrB,MAAO,CAAAhG,GAAG,CAACmH,aAAa,CAACD,UAAU,CAAC,CACjC3C,IAAI,CAAC,SAACG,QAAQ,CAAK,CAClBlC,cAAc,CAACkC,QAAQ,CAAC,CAC1B,CAAC,CAAC,CACDE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACAc,YAAY,CAACI,WAAW,CAAC,CAC3B,CAEA;AACA,QAAS,CAAAoB,oBAAoBA,CAACF,UAAU,CAAE,CACxC,QAAS,CAAAlB,WAAWA,CAAA,CAAG,CACrB,MAAO,CAAAhG,GAAG,CAACqH,WAAW,CAACH,UAAU,CAAC,CAC/B3C,IAAI,CAAC,SAACgC,OAAO,CAAK,CACjB3D,QAAQ,EAAE2D,OAAO,EAAAe,MAAA,CAAAC,kBAAA,CAAK5E,KAAK,EAAC,CAAC,CAC/B,CAAC,CAAC,CACDiC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CACAc,YAAY,CAACI,WAAW,CAAC,CAC3B,CAEE;AACA,QAAS,CAAAwB,cAAcA,CAAC7D,KAAK,CAAE8D,QAAQ,CAAE,CACvCtH,QAAQ,CAACwD,KAAK,CAAE8D,QAAQ,CAAC,CACxBlD,IAAI,CAAC,SAACW,GAAG,CAAK,CACb,GAAIA,GAAG,CAAE,CACPlB,aAAa,CAAC,IAAI,CAAC,CACnByB,oBAAoB,CAAC,CAAC,CACtBxB,QAAQ,CAAC,UAAU,CAAE,CAACkB,OAAO,CAAE,IAAI,CAAC,CAAC,CACvC,CAAC,IAAM,CACLM,oBAAoB,CAAC,CAAC,CACtBzB,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAC,CACDY,KAAK,CAAC,UAAM,CACXa,oBAAoB,CAAC,CAAC,CACtBzB,aAAa,CAAC,KAAK,CAAC,CACpBa,OAAO,CAACC,KAAK,CAAC,CAAC,CACjB,CAAC,CAAC,CACJ,CAEA;AACA,QAAS,CAAA4C,cAAcA,CAAA,CAAG,CACxBlE,WAAW,CAAC,IAAI,CAAC,CACnB,CAEA;AACA,QAAS,CAAAmE,WAAWA,CAAChE,KAAK,CAAE8D,QAAQ,CAAE,CACpCrH,SAAS,CAACuD,KAAK,CAAE8D,QAAQ,CAAC,CACzBlD,IAAI,CAAC,SAACqD,IAAI,CAAK,CACd,GAAIA,IAAI,CAAC7C,KAAK,CAAE,CACdnB,QAAQ,CAACD,KAAK,CAAC,CACf+D,cAAc,CAAC,CAAC,CAChBzD,QAAQ,CAAC,GAAG,CAAE,CAACkB,OAAO,CAAE,IAAI,CAAC,CAAC,CAChC,CACF,CAAC,CAAC,CACDP,KAAK,CAAC,UAAM,CACXpB,WAAW,CAAC,KAAK,CAAC,CAClBQ,aAAa,CAAC,KAAK,CAAC,CACpByB,oBAAoB,CAAC,CAAC,CACtBZ,OAAO,CAACC,KAAK,CAAC,CAAC,CACjB,CAAC,CAAC,CACJ,CAEA;AACA,QAAS,CAAA+C,YAAYA,CAAA,CAAG,CACtBrE,WAAW,CAAC,KAAK,CAAC,CAClBwB,YAAY,CAAC8C,UAAU,CAAC,OAAO,CAAC,CAChC7D,QAAQ,CAAC,UAAU,CAAC,CACtB,CAEF;AACA;AACA,mBACE1D,IAAA,CAACN,kBAAkB,CAAC8H,QAAQ,EAACC,KAAK,CAAEzF,WAAY,CAAA0F,QAAA,cAC9CxH,KAAA,QAAKyH,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnB1H,IAAA,CAAClB,MAAM,EAAC8I,QAAQ,CAAEN,YAAa,CAAClE,KAAK,CAAEA,KAAM,CAAC,CAAC,cAE/ClD,KAAA,CAACtB,MAAM,EAAA8I,QAAA,eACL1H,IAAA,CAACrB,KAAK,EAACkJ,IAAI,CAAC,UAAU,CAACC,OAAO,cAAE9H,IAAA,CAACR,QAAQ,EAACuI,UAAU,CAAEd,cAAe,CAAC,CAAE,CAAE,CAAC,cAC3EjH,IAAA,CAACrB,KAAK,EAACkJ,IAAI,CAAC,UAAU,CAACC,OAAO,cAAE9H,IAAA,CAACT,KAAK,EAACyI,OAAO,CAAEZ,WAAY,CAAC,CAAE,CAAE,CAAC,cAIlEpH,IAAA,CAACrB,KAAK,EACJkJ,IAAI,CAAC,GAAG,CACRC,OAAO,cAAE9H,IAAA,CAACL,qBAAqB,EAC7BqD,QAAQ,CAAEA,QAAS,CACnB8E,OAAO,CAAE/I,IAAK,CACZkJ,YAAY,CAAEpD,qBAAsB,CACpCqD,aAAa,CAAEpD,sBAAuB,CACtCqD,UAAU,CAAEpD,mBAAoB,CAChCqD,WAAW,CAAEjD,eAAgB,CAC7BkD,UAAU,CAAE7C,cAAe,CAC3B8C,YAAY,CAAEtD,qBAAsB,CACpC5C,KAAK,CAAEA,KAAM,CAChB,CAAE,CACJ,CAAC,EACI,CAAC,cAETpC,IAAA,CAAChB,MAAM,GAAE,CAAC,cAEVgB,IAAA,CAACV,WAAW,EACViJ,MAAM,CAAE/G,iBAAkB,CAC1BgH,OAAO,CAAEpD,cAAe,CACxBqD,WAAW,CAAEjF,UAAW,CACzB,CAAC,cACFxD,IAAA,CAACZ,UAAU,EAAC6F,IAAI,CAAEzC,YAAa,CAACgG,OAAO,CAAEpD,cAAe,CAAE,CAAC,cAC3DpF,IAAA,CAACf,gBAAgB,EACfsJ,MAAM,CAAE/H,sBAAuB,CAC/BgI,OAAO,CAAEpD,cAAe,CACxBsD,YAAY,CAAEnC,gBAAiB,CAC/B3E,YAAY,CAAEA,YAAa,CAC5B,CAAC,cACF5B,IAAA,CAACd,eAAe,EACdqJ,MAAM,CAAEvH,qBAAsB,CAC9BwH,OAAO,CAAEpD,cAAe,CACxBuD,cAAc,CAAEjC,kBAAmB,CACnC9E,YAAY,CAAEA,YAAa,CAC5B,CAAC,cACF5B,IAAA,CAACb,aAAa,EACZoJ,MAAM,CAAE3H,mBAAoB,CAC5B4H,OAAO,CAAEpD,cAAe,CACxB+C,UAAU,CAAEtB,oBAAqB,CACjCjF,YAAY,CAAEA,YAAa,CAC5B,CAAC,cACF5B,IAAA,CAACX,eAAe,EACdkJ,MAAM,CAAEnH,qBAAsB,CAC9BoH,OAAO,CAAEpD,cAAe,CACxBxD,YAAY,CAAEA,YAAa,CAC3BqD,IAAI,CAAErC,YAAa,CACnBgG,YAAY,CAAExC,gBAAiB,CAChC,CAAC,EACC,CAAC,CACqB,CAAC,CAElC,CAEA,cAAe,CAAAjG,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}