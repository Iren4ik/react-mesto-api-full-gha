{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{useFormWithValidation}from\"../hooks/useFormWithValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,isPreloading=_ref.isPreloading;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,handleChange=_useFormWithValidatio.handleChange,resetForm=_useFormWithValidatio.resetForm;React.useEffect(function(){resetForm();},[isOpen,resetForm]);function handleSubmit(e){e.preventDefault();onAddPlace(values);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"add-cards\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",btnText:isPreloading?\"Сохранение...\":\"Создать\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isDisabled:!isValid,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__input-element\",children:[/*#__PURE__*/_jsx(\"input\",{className:errors.name?\"popup__input popup__input_valid_error\":\"popup__input\",type:\"text\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",required:true,value:values.name||\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__input-element\",children:[/*#__PURE__*/_jsx(\"input\",{className:errors.link?\"popup__input popup__input_valid_error\":\"popup__input\",type:\"url\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,value:values.link||\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible\",children:errors.link})]})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","PopupWithForm","useFormWithValidation","jsx","_jsx","jsxs","_jsxs","AddPlacePopup","_ref","isOpen","onClose","onAddPlace","isPreloading","_useFormWithValidatio","values","errors","isValid","handleChange","resetForm","useEffect","handleSubmit","e","preventDefault","name","title","btnText","onSubmit","isDisabled","children","className","type","placeholder","minLength","maxLength","required","value","onChange","link"],"sources":["/Users/a1/Desktop/dev/react-mesto-api-full-gha/frontend/src/components/AddPlacePopup.js"],"sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { useFormWithValidation } from \"../hooks/useFormWithValidation\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isPreloading }) {\n\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace(values);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-cards\"\n      title=\"Новое место\"\n      btnText={isPreloading ? \"Сохранение...\" : \"Создать\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <label className=\"popup__input-element\">\n        <input\n          className={\n            errors.name ? \"popup__input popup__input_valid_error\" : \"popup__input\"\n          }\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          value={values.name || \"\"}\n          onChange={handleChange}\n        />\n        <span className=\"popup__error popup__error_visible\">{errors.name}</span>\n      </label>\n      <label className=\"popup__input-element\">\n        <input\n          className={\n            errors.link ? \"popup__input popup__input_valid_error\" : \"popup__input\"\n          }\n          type=\"url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          value={values.link || \"\"}\n          onChange={handleChange}\n        />\n        <span className=\"popup__error popup__error_visible\">{errors.link}</span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,qBAAqB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAgD,IAA7C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAEhE,IAAAC,qBAAA,CAA6DX,qBAAqB,CAAC,CAAC,CAA5EY,MAAM,CAAAD,qBAAA,CAANC,MAAM,CAAEC,MAAM,CAAAF,qBAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,qBAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,qBAAA,CAAZI,YAAY,CAAEC,SAAS,CAAAL,qBAAA,CAATK,SAAS,CAExDlB,KAAK,CAACmB,SAAS,CAAC,UAAM,CACpBD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACT,MAAM,CAAES,SAAS,CAAC,CAAC,CAEvB,QAAS,CAAAE,YAAYA,CAACC,CAAC,CAAE,CACvBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBX,UAAU,CAACG,MAAM,CAAC,CACpB,CAEA,mBACER,KAAA,CAACL,aAAa,EACZsB,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAC,+DAAa,CACnBC,OAAO,CAAEb,YAAY,CAAG,eAAe,CAAG,SAAU,CACpDH,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBgB,QAAQ,CAAEN,YAAa,CACvBO,UAAU,CAAE,CAACX,OAAQ,CAAAY,QAAA,eAErBtB,KAAA,UAAOuB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACrCxB,IAAA,UACEyB,SAAS,CACPd,MAAM,CAACQ,IAAI,CAAG,uCAAuC,CAAG,cACzD,CACDO,IAAI,CAAC,MAAM,CACXP,IAAI,CAAC,MAAM,CACXQ,WAAW,CAAC,kDAAU,CACtBC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,MACRC,KAAK,CAAErB,MAAM,CAACS,IAAI,EAAI,EAAG,CACzBa,QAAQ,CAAEnB,YAAa,CACxB,CAAC,cACFb,IAAA,SAAMyB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAEb,MAAM,CAACQ,IAAI,CAAO,CAAC,EACnE,CAAC,cACRjB,KAAA,UAAOuB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACrCxB,IAAA,UACEyB,SAAS,CACPd,MAAM,CAACsB,IAAI,CAAG,uCAAuC,CAAG,cACzD,CACDP,IAAI,CAAC,KAAK,CACVP,IAAI,CAAC,MAAM,CACXQ,WAAW,CAAC,oGAAoB,CAChCG,QAAQ,MACRC,KAAK,CAAErB,MAAM,CAACuB,IAAI,EAAI,EAAG,CACzBD,QAAQ,CAAEnB,YAAa,CACxB,CAAC,cACFb,IAAA,SAAMyB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAEb,MAAM,CAACsB,IAAI,CAAO,CAAC,EACnE,CAAC,EACK,CAAC,CAEpB,CAEA,cAAe,CAAA9B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}